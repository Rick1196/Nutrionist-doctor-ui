function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function _iterableToArrayLimit(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],t=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(t=(a=c.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(s){o=!0,i=s}finally{try{t||null==c.return||c.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"305l":function(e,r,n){"use strict";n.r(r),n.d(r,"AuthModule",(function(){return Q}));var t=n("ofXK"),o=n("3Pt+"),i=n("tyNb"),a=n("fXoL"),c=n("AhZb");function s(e,r){if(1&e&&(a.Tb(0,"div",17),a.Oc(1),a.Sb()),2&e){var n=a.jc();a.Ab(1),a.Qc(" ",n.errorResponse," ")}}function b(e,r){1&e&&(a.Tb(0,"div",18),a.Tb(1,"span",19),a.Oc(2,"Loading..."),a.Sb(),a.Sb())}var l=function(){return["/auth/verify"]},u=function(e){return{user_name:e}};function d(e,r){if(1&e&&(a.Tb(0,"a",20),a.Oc(1,"Verificar usuario"),a.Sb()),2&e){a.jc();var n=a.Dc(11);a.qc("routerLink",a.tc(2,l))("queryParams",a.uc(3,u,n.value))}}var f,m=((f=function(){function e(r,n){_classCallCheck(this,e),this.auth=r,this.router=n,this.loading=!1,this.form=new o.d({user_name:new o.b("",o.p.required),password:new o.b("",o.p.required)})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var e=this;this.auth.loginUser(this.form.value).then((function(r){e.router.navigate(["/nutritionist/home"],{queryParams:{username:e.form.controls.user_name.value},queryParamsHandling:"merge"})})).catch((function(r){e.loading=!1,console.error(r.error.errors),e.errorResponse=r.error.errors[0].message.username}))}}]),e}()).\u0275fac=function(e){return new(e||f)(a.Nb(c.a),a.Nb(i.b))},f.\u0275cmp=a.Hb({type:f,selectors:[["app-login"]],decls:29,vars:7,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body",2,"padding","1em"],[3,"formGroup"],[1,"form-group"],["for","usuario"],["type","text","formControlName","user_name","placeholder","Usuario",1,"form-control",3,"ngClass"],["user",""],[1,"invalid-feedback"],["for","password"],["type","password","formControlName","password","placeholder","Contrase\xf1a",1,"form-control",3,"ngClass"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-block",3,"disabled","click"],["class","spinner-border","role","status",4,"ngIf"],["queryParamsHandling","merge",3,"routerLink","queryParams",4,"ngIf"],["role","alert",1,"alert","alert-danger"],["role","status",1,"spinner-border"],[1,"sr-only"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:function(e,r){if(1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"div",2),a.Tb(3,"h4",3),a.Oc(4,"Inicio de sesion"),a.Sb(),a.Sb(),a.Tb(5,"div",4),a.Tb(6,"form",5),a.Tb(7,"div",6),a.Tb(8,"label",7),a.Oc(9,"Usuario"),a.Sb(),a.Ob(10,"input",8,9),a.Tb(12,"div",10),a.Oc(13," El nombre de usuario es una campo "),a.Tb(14,"strong"),a.Oc(15,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Tb(16,"div",6),a.Tb(17,"label",11),a.Oc(18,"Contrase\xf1a"),a.Sb(),a.Ob(19,"input",12),a.Tb(20,"div",10),a.Oc(21," La contrase\xf1a es una campo "),a.Tb(22,"strong"),a.Oc(23,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Mc(24,s,2,1,"div",13),a.Tb(25,"button",14),a.fc("click",(function(){return r.loading=!0,r.submit()})),a.Mc(26,b,3,0,"div",15),a.Oc(27," Iniciar sesion"),a.Sb(),a.Mc(28,d,2,5,"a",16),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e){var n=a.Dc(11);a.Ab(6),a.qc("formGroup",r.form),a.Ab(4),a.qc("ngClass",r.form.controls.user_name.invalid&&r.form.controls.user_name.touched?"is-invalid":""),a.Ab(9),a.qc("ngClass",r.form.controls.password.invalid&&r.form.controls.password.touched?"is-invalid":""),a.Ab(5),a.qc("ngIf",r.errorResponse),a.Ab(1),a.qc("disabled",0==r.form.valid),a.Ab(1),a.qc("ngIf",1==r.loading),a.Ab(2),a.qc("ngIf",n.value)}},directives:[o.r,o.k,o.e,o.a,o.j,o.c,t.k,t.m,i.d],styles:[".card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:50%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border-radius:2em}"]}),f),g=n("Gdhr"),p=n("Ii8c"),v=n("GNEJ"),h=n("jhN1");function S(e,r){if(1&e){var n=a.Ub();a.Tb(0,"div",37),a.Tb(1,"input",38),a.fc("change",(function(e){return a.Fc(n),a.jc().onFileChange(e)})),a.Sb(),a.Tb(2,"label",39),a.Oc(3,"Seleccionar imagen"),a.Sb(),a.Tb(4,"div",13),a.Oc(5," Por favor, seleccione una archivo valido "),a.Sb(),a.Sb()}if(2&e){var t=a.jc();a.Ab(1),a.qc("ngClass",1==t.form.controls.image.invalid?"is-invalid":"")}}function T(e,r){if(1&e&&(a.Tb(0,"span"),a.Oc(1),a.Sb()),2&e){var n=a.jc(2);a.Ab(1),a.Pc(n.responseError.user_name)}}function O(e,r){if(1&e&&(a.Tb(0,"div",40),a.Mc(1,T,2,1,"span",21),a.Sb()),2&e){var n=a.jc();a.Ab(1),a.qc("ngIf",n.responseError.user_name)}}function C(e,r){1&e&&(a.Tb(0,"p"),a.Oc(1," La fecha de nacimiento es campo requerido "),a.Sb())}function y(e,r){1&e&&(a.Tb(0,"p"),a.Oc(1," Debe ser mayor de edad para registrarse "),a.Sb())}function _(e,r){if(1&e&&(a.Tb(0,"div"),a.Mc(1,C,2,0,"p",21),a.Mc(2,y,2,0,"p",21),a.Sb()),2&e){var n=a.jc();a.Ab(1),a.qc("ngIf",n.form.controls.birth_date.errors.required),a.Ab(1),a.qc("ngIf",n.form.controls.birth_date.errors.age)}}function q(e,r){if(1&e&&(a.Tb(0,"option",41),a.Oc(1),a.Sb()),2&e){var n=r.$implicit;a.qc("value",n),a.Ab(1),a.Pc(n)}}function A(e,r){if(1&e&&(a.Tb(0,"span"),a.Oc(1),a.Sb()),2&e){var n=a.jc(2);a.Ab(1),a.Pc(n.responseError.phone)}}function w(e,r){if(1&e&&(a.Tb(0,"div",40),a.Mc(1,A,2,1,"span",21),a.Sb()),2&e){var n=a.jc();a.Ab(1),a.qc("ngIf",n.responseError.phone)}}function k(e,r){if(1&e&&(a.Tb(0,"option",41),a.Oc(1),a.Sb()),2&e){var n=r.$implicit;a.qc("value",n),a.Ab(1),a.Pc(n)}}function M(e,r){if(1&e&&(a.Tb(0,"option",41),a.Oc(1),a.Sb()),2&e){var n=r.$implicit;a.qc("value",n),a.Ab(1),a.Pc(n)}}function P(e,r){if(1&e&&(a.Tb(0,"option",41),a.Oc(1),a.Sb()),2&e){var n=r.$implicit;a.qc("value",n),a.Ab(1),a.Pc(n)}}function I(e,r){1&e&&(a.Tb(0,"div",42),a.Tb(1,"span",43),a.Oc(2,"Loading..."),a.Sb(),a.Sb())}function x(e,r){if(1&e&&a.Ob(0,"img",44),2&e){var n=a.jc();a.qc("src",n.imageUrl,a.Hc)}}var N,j,L=((j=function(){function e(r,n,t,i){_classCallCheck(this,e),this.cd=r,this.auth=n,this.misc=t,this.sanitizer=i,this.success=new a.n,this.loading=!1,this.genders=["Hombre","Mujer","Otros"],this.data=[],this.countries=[],this.states=[],this.cities=[],this.form=new o.d({first_name:new o.b("",o.p.required),last_name:new o.b("",o.p.required),birth_date:new o.b("",[o.p.required,p.a]),gender:new o.b("",o.p.required),email:new o.b("",[o.p.required,o.p.email]),phone:new o.b("",[o.p.required,o.p.minLength(10),o.p.maxLength(11)]),countrie:new o.b("",o.p.required),state:new o.b("",o.p.required),citie:new o.b("",o.p.required),direction:new o.b("",o.p.required),image:new o.b("",[o.p.required,g.a]),user_name:new o.b("",o.p.required),password:new o.b("",[o.p.required,o.p.minLength(8)]),role:new o.b("doctor")})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.misc.getCountires().then((function(r){e.data=r,e.data.forEach((function(r){for(var n in r)e.countries.push(n)}))}))}},{key:"filterStates",value:function(e){var r=this.data.findIndex((function(r){return Object.keys(r)[0]===e}));this.states=Object.keys(this.data[r][e])}},{key:"filterCitie",value:function(e){var r=this,n=this.data.findIndex((function(e){return Object.keys(e)[0]===r.form.controls.countrie.value}));this.cities=this.data[n][this.form.controls.countrie.value][e]}},{key:"onFileChange",value:function(e){var r=this,n=new FileReader;if(e.target.files&&e.target.files.length){var t=_slicedToArray(e.target.files,1)[0];n.readAsDataURL(t),n.onload=function(){r.file=n.result,r.imageUrl=r.sanitizer.bypassSecurityTrustResourceUrl(r.file)}}}},{key:"submit",value:function(){var e=this,r=Object.assign({},this.form.value),n=this.file.split(",");r.image=n[1],r.data_type=n[0],this.form.valid&&this.auth.registerNutritionist(r).then((function(r){e.success.emit({success:!0,user_name:e.form.controls.user_name.value}),e.loading=!1})).catch((function(r){e.loading=!1,console.error(r.error.errors),e.responseError=r.error.errors}))}}]),e}()).\u0275fac=function(e){return new(e||j)(a.Nb(a.h),a.Nb(c.a),a.Nb(v.a),a.Nb(h.b))},j.\u0275cmp=a.Hb({type:j,selectors:[["app-register-form"]],outputs:{success:"success"},decls:134,vars:24,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body",2,"padding","1em"],[3,"formGroup"],[1,"grid-container"],[2,"text-align","left","color","grey"],[1,"row",2,"margin-bottom","1em"],[1,"col"],["class","custom-file",4,"ngIf","ngIfElse"],[1,"form-group"],["trim","","type","text","formControlName","user_name","placeholder","Usuario",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["class","errors",4,"ngIf"],["type","password","formControlName","password","placeholder","Contrase\xf1a",1,"form-control",3,"ngClass"],[1,"row"],[1,"col-6"],["type","text","formControlName","first_name","placeholder","Nombre(s)",1,"form-control",3,"ngClass"],["type","text","formControlName","last_name","placeholder","Apellido",1,"form-control",3,"ngClass"],["formControlName","birth_date","type","date","placeholder","Fecha de nacimiento","placement","top",1,"form-control",3,"ngClass"],[4,"ngIf"],["formControlName","gender",1,"custom-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","tel","formControlName","phone","placeholder","123-123-1234",1,"form-control",3,"ngClass"],["type","email","formControlName","email","placeholder","Correo electronico",1,"form-control",3,"ngClass"],[1,"col-4"],["formControlName","countrie",1,"custom-select",3,"ngClass","change"],["st",""],["formControlName","state",1,"custom-select",3,"ngClass","change"],["ct",""],["formControlName","citie",1,"custom-select",3,"ngClass"],[2,"margin-bottom","1em"],["type","text","formControlName","direction","placeholder","Direccion",1,"form-control",3,"ngClass"],[1,"btn","btn-outline-secondary","btn-block",3,"disabled","click"],["class","spinner-border","role","status",4,"ngIf"],["image",""],[1,"custom-file"],["type","file","id","image","formControlName","image","accept","image/*","placeholder","Imagen representativa",1,"custom-file-input",3,"ngClass","change"],["for","image",1,"custom-file-label"],[1,"errors"],[3,"value"],["role","status",1,"spinner-border"],[1,"sr-only"],["alt","...",1,"img-thumbnail",3,"src"]],template:function(e,r){if(1&e){var n=a.Ub();a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"div",2),a.Tb(3,"h4",3),a.Oc(4,"Registro de nutriologo"),a.Sb(),a.Sb(),a.Tb(5,"div",4),a.Tb(6,"form",5),a.Tb(7,"div",6),a.Tb(8,"div",7),a.Tb(9,"h6"),a.Oc(10,"Informacion de inicio de sesion"),a.Sb(),a.Sb(),a.Tb(11,"div",8),a.Tb(12,"div",9),a.Tb(13,"label"),a.Oc(14,"Imagen representativa"),a.Sb(),a.Mc(15,S,6,1,"div",10),a.Sb(),a.Tb(16,"div",9),a.Tb(17,"div",11),a.Tb(18,"label"),a.Oc(19,"Usuario"),a.Sb(),a.Ob(20,"input",12),a.Tb(21,"div",13),a.Oc(22," El nombre de usuario es una campo "),a.Tb(23,"strong"),a.Oc(24,"requerido"),a.Sb(),a.Sb(),a.Mc(25,O,2,1,"div",14),a.Sb(),a.Sb(),a.Tb(26,"div",9),a.Tb(27,"div",11),a.Tb(28,"label"),a.Oc(29,"Contrase\xf1a"),a.Sb(),a.Ob(30,"input",15),a.Tb(31,"div",13),a.Oc(32," Debe introducir una Contrase\xf1a valida "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(33,"div",7),a.Tb(34,"h6"),a.Oc(35,"Informacion personal"),a.Sb(),a.Sb(),a.Tb(36,"div",16),a.Tb(37,"div",17),a.Tb(38,"div",11),a.Tb(39,"label"),a.Oc(40,"Nombre(s)"),a.Sb(),a.Ob(41,"input",18),a.Tb(42,"div",13),a.Oc(43," El nombre es una campo "),a.Tb(44,"strong"),a.Oc(45,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(46,"div",17),a.Tb(47,"div",11),a.Tb(48,"label"),a.Oc(49,"Apellido"),a.Sb(),a.Ob(50,"input",19),a.Tb(51,"div",13),a.Oc(52," El apellido es una campo "),a.Tb(53,"strong"),a.Oc(54,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(55,"div",16),a.Tb(56,"div",17),a.Tb(57,"div",11),a.Tb(58,"label"),a.Oc(59,"Fecha de nacimiento"),a.Sb(),a.Ob(60,"input",20),a.Tb(61,"div",13),a.Mc(62,_,3,2,"div",21),a.Sb(),a.Sb(),a.Sb(),a.Tb(63,"div",17),a.Tb(64,"div",11),a.Tb(65,"label"),a.Oc(66,"Genero"),a.Sb(),a.Tb(67,"select",22),a.Mc(68,q,2,2,"option",23),a.Sb(),a.Tb(69,"div",13),a.Oc(70," Debe seleccionar un genero "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(71,"div",7),a.Tb(72,"h6"),a.Oc(73,"Informacion de contacto"),a.Sb(),a.Sb(),a.Tb(74,"div",16),a.Tb(75,"div",17),a.Tb(76,"div",11),a.Tb(77,"label"),a.Oc(78,"Numero celular"),a.Sb(),a.Ob(79,"input",24),a.Tb(80,"div",13),a.Oc(81," El numero celular es una campo "),a.Tb(82,"strong"),a.Oc(83,"requerido"),a.Sb(),a.Sb(),a.Mc(84,w,2,1,"div",14),a.Sb(),a.Sb(),a.Tb(85,"div",17),a.Tb(86,"div",11),a.Tb(87,"label"),a.Oc(88,"Correo electronico"),a.Sb(),a.Ob(89,"input",25),a.Tb(90,"div",13),a.Oc(91," El numero celular es una campo "),a.Tb(92,"strong"),a.Oc(93,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(94,"div",16),a.Tb(95,"div",26),a.Tb(96,"div",11),a.Tb(97,"label"),a.Oc(98,"Pais"),a.Sb(),a.Tb(99,"select",27,28),a.fc("change",(function(){a.Fc(n);var e=a.Dc(100);return r.filterStates(e.value)})),a.Mc(101,k,2,2,"option",23),a.Sb(),a.Tb(102,"div",13),a.Oc(103," Debe seleccionar un pais "),a.Sb(),a.Sb(),a.Sb(),a.Tb(104,"div",26),a.Tb(105,"div",11),a.Tb(106,"label"),a.Oc(107,"Estado"),a.Sb(),a.Tb(108,"select",29,30),a.fc("change",(function(){a.Fc(n);var e=a.Dc(109);return r.filterCitie(e.value)})),a.Mc(110,M,2,2,"option",23),a.Sb(),a.Tb(111,"div",13),a.Oc(112," Debe seleccionar un estado "),a.Sb(),a.Sb(),a.Sb(),a.Tb(113,"div",26),a.Tb(114,"div",11),a.Tb(115,"label"),a.Oc(116,"Ciudad"),a.Sb(),a.Tb(117,"select",31),a.Mc(118,P,2,2,"option",23),a.Sb(),a.Tb(119,"div",13),a.Oc(120," Debe de seleccionar una ciudad "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(121,"div",32),a.Tb(122,"label"),a.Oc(123,"Direccion"),a.Sb(),a.Ob(124,"input",33),a.Tb(125,"div",13),a.Oc(126," La direccion es una campo "),a.Tb(127,"strong"),a.Oc(128,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Tb(129,"button",34),a.fc("click",(function(){return r.loading=!0,r.submit()})),a.Mc(130,I,3,0,"div",35),a.Oc(131," Guardar Informacion "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Mc(132,x,1,1,"ng-template",null,36,a.Nc)}if(2&e){var t=a.Dc(133);a.Ab(6),a.qc("formGroup",r.form),a.Ab(9),a.qc("ngIf",!r.imageUrl)("ngIfElse",t),a.Ab(5),a.qc("ngClass",r.form.controls.user_name.invalid?"is-invalid":""),a.Ab(5),a.qc("ngIf",r.responseError),a.Ab(5),a.qc("ngClass",r.form.controls.password.invalid?"is-invalid":""),a.Ab(11),a.qc("ngClass",r.form.controls.first_name.invalid?"is-invalid":""),a.Ab(9),a.qc("ngClass",r.form.controls.last_name.invalid?"is-invalid":""),a.Ab(10),a.qc("ngClass",r.form.controls.birth_date.invalid?"is-invalid":""),a.Ab(2),a.qc("ngIf",r.form.controls.birth_date.errors),a.Ab(5),a.qc("ngClass",r.form.controls.gender.invalid?"is-invalid":""),a.Ab(1),a.qc("ngForOf",r.genders),a.Ab(11),a.qc("ngClass",r.form.controls.phone.invalid?"is-invalid":""),a.Ab(5),a.qc("ngIf",r.responseError),a.Ab(5),a.qc("ngClass",r.form.controls.email.invalid?"is-invalid":""),a.Ab(10),a.qc("ngClass",r.form.controls.countrie.invalid?"is-invalid":""),a.Ab(2),a.qc("ngForOf",r.countries),a.Ab(7),a.qc("ngClass",r.form.controls.state.invalid?"is-invalid":""),a.Ab(2),a.qc("ngForOf",r.states),a.Ab(7),a.qc("ngClass",r.form.controls.citie.invalid?"is-invalid":""),a.Ab(1),a.qc("ngForOf",r.cities),a.Ab(6),a.qc("ngClass",r.form.controls.direction.invalid?"is-invalid":""),a.Ab(5),a.qc("disabled",0==r.form.valid),a.Ab(1),a.qc("ngIf",1==r.loading)}},directives:[o.r,o.k,o.e,t.m,o.a,o.j,o.c,t.k,o.o,t.l,o.m,o.q],styles:[".card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:80%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border-radius:2em}.errors[_ngcontent-%COMP%]{font-size:80%;color:red}"]}),j),E=((N=function(){function e(r){_classCallCheck(this,e),this.router=r,this.stage=0}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"changeStage",value:function(e){!0===e.success&&this.router.navigate(["auth/verify"],{queryParams:{username:e.user_name},queryParamsHandling:"merge"})}}]),e}()).\u0275fac=function(e){return new(e||N)(a.Nb(i.b))},N.\u0275cmp=a.Hb({type:N,selectors:[["app-register"]],decls:2,vars:0,consts:[[1,"container"],[3,"success"]],template:function(e,r){1&e&&(a.Tb(0,"div",0),a.Tb(1,"app-register-form",1),a.fc("success",(function(e){return r.changeStage(e)})),a.Sb(),a.Sb())},directives:[L],styles:[".card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:80%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border-radius:2em}"]}),N),F=n("paZ4");function D(e,r){1&e&&(a.Tb(0,"div",16),a.Oc(1," Por favor, introducir un codigo de verificacion valido "),a.Sb())}function U(e,r){if(1&e&&(a.Tb(0,"div",16),a.Oc(1),a.Sb()),2&e){var n=a.jc(2);a.Ab(1),a.Qc(" ",n.response," ")}}function H(e,r){if(1&e){var n=a.Ub();a.Tb(0,"div",3),a.Tb(1,"div",4),a.Tb(2,"h4",5),a.Oc(3,"Verificacion de usuario"),a.Sb(),a.Sb(),a.Tb(4,"div",6),a.Tb(5,"h3",7),a.Oc(6,"Hemos enviado un codigo de verificacion al numero celular que proporcionaste "),a.Sb(),a.Tb(7,"h5",5),a.Oc(8,"Codigo de verificacion"),a.Sb(),a.Tb(9,"form",8),a.Ob(10,"input",9),a.Tb(11,"div",10),a.Tb(12,"div",11),a.Tb(13,"button",12),a.fc("click",(function(){return a.Fc(n),a.jc().confirm()})),a.Oc(14,"Verificar codigo"),a.Sb(),a.Sb(),a.Tb(15,"div",11),a.Tb(16,"button",13),a.fc("click",(function(){return a.Fc(n),a.jc().resend()})),a.Oc(17,"No tengo el codigo"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Mc(18,D,2,0,"div",14),a.Mc(19,U,2,1,"div",15),a.Sb(),a.Sb()}if(2&e){var t=a.jc();a.Ab(9),a.qc("formGroup",t.form),a.Ab(9),a.qc("ngIf",t.form.controls.confirmation_code.invalid),a.Ab(1),a.qc("ngIf",t.response)}}var G=function(){return["/auth/login"]};function R(e,r){1&e&&(a.Tb(0,"div",3),a.Tb(1,"div",4),a.Tb(2,"h4"),a.Oc(3,"Verificacion de usuario"),a.Sb(),a.Sb(),a.Tb(4,"div",6),a.Tb(5,"h2",5),a.Oc(6,"Verificacion de usuario exitosa"),a.Sb(),a.Tb(7,"div",17),a.Tb(8,"a",18),a.Oc(9," Iniciar sesion "),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.Ab(8),a.qc("routerLink",a.tc(1,G)))}var V,$,z,J=[{path:"",children:[{path:"register",component:E},{path:"login",component:m},{path:"verify",component:(V=function(){function e(r,n,t){_classCallCheck(this,e),this.auth=r,this.router=n,this.nutritionist=t,this.success=!1,this.form=new o.d({confirmation_code:new o.b("",[o.p.required,o.p.minLength(4)])})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.router.queryParams.subscribe((function(r){e.username=r.username,e.nutritionist.isVerified(e.username).then((function(r){e.success=r.verified})).catch((function(e){console.error(e)}))}))}},{key:"confirm",value:function(){var e=this;if(this.form.valid){var r=this.form.value;r.username=this.username,this.auth.verifyUser(r).then((function(r){e.success=!0})).catch((function(r){console.error(r.error.message),e.response=r.error.message}))}}},{key:"resend",value:function(){var e=this;this.auth.resendCode(this.username).then((function(r){e.response=r.message})).catch((function(e){console.error(e)}))}}]),e}(),V.\u0275fac=function(e){return new(e||V)(a.Nb(c.a),a.Nb(i.a),a.Nb(F.a))},V.\u0275cmp=a.Hb({type:V,selectors:[["app-verification-form"]],decls:4,vars:2,consts:[[1,"container"],["class","card",4,"ngIf","ngIfElse"],["verified",""],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body",2,"padding","1rem"],[2,"text-align","center"],[3,"formGroup"],["maxlength","4","formControlName","confirmation_code"],[1,"row"],[1,"col"],[1,"btn","btn-outline-info","btn-block",3,"click"],[1,"btn","btn-outline-warning","btn-block",3,"click"],["style","margin-top: 1em;","class","alert alert-danger text-center","role","alert",4,"ngIf"],["class","alert alert-danger text-center","style","margin-top: 1em;","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","text-center",2,"margin-top","1em"],["role","alert",1,"alert","alert-info","text-center",2,"margin-top","1em"],["routerLinkActive","router-link-active",1,"button","small","expanded",3,"routerLink"]],template:function(e,r){if(1&e&&(a.Tb(0,"div",0),a.Mc(1,H,20,3,"div",1),a.Sb(),a.Mc(2,R,10,2,"ng-template",null,2,a.Nc)),2&e){var n=a.Dc(3);a.Ab(1),a.qc("ngIf",0==r.success)("ngIfElse",n)}},directives:[t.m,o.r,o.k,o.e,o.a,o.g,o.j,o.c,i.d,i.c],styles:[".card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:50%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.error[_ngcontent-%COMP%]{color:red}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border-radius:2em}input[_ngcontent-%COMP%]{display:block;margin:1em auto;border:none;padding:0;width:6ch;background:repeating-linear-gradient(90deg,#696969,#696969 1ch,transparent 0,transparent 1.5ch) 0 100%/5.5ch 2px no-repeat;font:5ch droid sans mono,consolas,monospace;letter-spacing:.5ch}input[_ngcontent-%COMP%]:focus{outline:none;color:#1e90ff}"]}),V)}]}],K=((z=function e(){_classCallCheck(this,e)}).\u0275mod=a.Lb({type:z}),z.\u0275inj=a.Kb({factory:function(e){return new(e||z)},imports:[[i.e.forChild(J)],i.e]}),z),Q=(($=function e(){_classCallCheck(this,e)}).\u0275mod=a.Lb({type:$}),$.\u0275inj=a.Kb({factory:function(e){return new(e||$)},imports:[[t.c,K,o.n,o.f]]}),$)}}]);