(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"305l":function(e,r,n){"use strict";n.r(r),n.d(r,"AuthModule",(function(){return V}));var o=n("ofXK"),t=n("3Pt+"),i=n("tyNb"),c=n("fXoL"),a=n("AhZb");function s(e,r){if(1&e&&(c.Tb(0,"div",18),c.Oc(1),c.Sb()),2&e){const e=c.jc();c.Ab(1),c.Qc(" ",e.errorResponse," ")}}function b(e,r){1&e&&(c.Tb(0,"div",19),c.Tb(1,"span",20),c.Oc(2,"Loading..."),c.Sb(),c.Sb())}const l=function(){return["/auth/verify"]},d=function(e){return{user_name:e}};function u(e,r){if(1&e&&(c.Tb(0,"a",21),c.Oc(1,"Verificar usuario"),c.Sb()),2&e){c.jc();const e=c.Dc(11);c.qc("routerLink",c.tc(2,l))("queryParams",c.uc(3,d,e.value))}}const m=function(){return["/auth/register"]};let f=(()=>{class e{constructor(e,r){this.auth=e,this.router=r,this.loading=!1,this.form=new t.d({user_name:new t.b("",t.p.required),password:new t.b("",t.p.required)})}ngOnInit(){}submit(){this.auth.loginUser(this.form.value).then(e=>{this.router.navigate(["/nutritionist/home"],{queryParams:{username:this.form.controls.user_name.value},queryParamsHandling:"merge"})}).catch(e=>{this.loading=!1,console.error(e.error.errors),this.errorResponse=e.error.errors[0].message.username})}}return e.\u0275fac=function(r){return new(r||e)(c.Nb(a.a),c.Nb(i.b))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-login"]],decls:31,vars:9,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body",2,"padding","1em"],[3,"formGroup"],[1,"form-group"],["for","usuario"],["type","text","formControlName","user_name","placeholder","Usuario",1,"form-control",3,"ngClass"],["user",""],[1,"invalid-feedback"],["for","password"],["type","password","formControlName","password","placeholder","Contrase\xf1a",1,"form-control",3,"ngClass"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-block",3,"disabled","click"],["class","spinner-border","role","status",4,"ngIf"],["routerLinkActive","router-link-active",2,"color","black",3,"routerLink"],["queryParamsHandling","merge",3,"routerLink","queryParams",4,"ngIf"],["role","alert",1,"alert","alert-danger"],["role","status",1,"spinner-border"],[1,"sr-only"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:function(e,r){if(1&e&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Tb(3,"h4",3),c.Oc(4,"Inicio de sesion"),c.Sb(),c.Sb(),c.Tb(5,"div",4),c.Tb(6,"form",5),c.Tb(7,"div",6),c.Tb(8,"label",7),c.Oc(9,"Usuario"),c.Sb(),c.Ob(10,"input",8,9),c.Tb(12,"div",10),c.Oc(13," El nombre de usuario es una campo "),c.Tb(14,"strong"),c.Oc(15,"requerido"),c.Sb(),c.Sb(),c.Sb(),c.Tb(16,"div",6),c.Tb(17,"label",11),c.Oc(18,"Contrase\xf1a"),c.Sb(),c.Ob(19,"input",12),c.Tb(20,"div",10),c.Oc(21," La contrase\xf1a es una campo "),c.Tb(22,"strong"),c.Oc(23,"requerido"),c.Sb(),c.Sb(),c.Sb(),c.Mc(24,s,2,1,"div",13),c.Tb(25,"button",14),c.fc("click",(function(){return r.loading=!0,r.submit()})),c.Mc(26,b,3,0,"div",15),c.Oc(27," Iniciar sesion "),c.Sb(),c.Tb(28,"a",16),c.Oc(29,"Registrarse"),c.Sb(),c.Mc(30,u,2,5,"a",17),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e){const e=c.Dc(11);c.Ab(6),c.qc("formGroup",r.form),c.Ab(4),c.qc("ngClass",r.form.controls.user_name.invalid&&r.form.controls.user_name.touched?"is-invalid":""),c.Ab(9),c.qc("ngClass",r.form.controls.password.invalid&&r.form.controls.password.touched?"is-invalid":""),c.Ab(5),c.qc("ngIf",r.errorResponse),c.Ab(1),c.qc("disabled",0==r.form.valid),c.Ab(1),c.qc("ngIf",1==r.loading),c.Ab(2),c.qc("routerLink",c.tc(8,m)),c.Ab(2),c.qc("ngIf",e.value)}},directives:[t.r,t.k,t.e,t.a,t.j,t.c,o.k,o.m,i.d,i.c],styles:[".card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:90%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border-radius:2em}"]}),e})();var g=n("Gdhr"),p=n("Ii8c"),h=n("GNEJ"),v=n("jhN1");function S(e,r){if(1&e){const e=c.Ub();c.Tb(0,"div",36),c.Tb(1,"input",37),c.fc("change",(function(r){return c.Fc(e),c.jc().onFileChange(r)})),c.Sb(),c.Tb(2,"label",38),c.Oc(3,"Seleccionar imagen"),c.Sb(),c.Tb(4,"div",12),c.Oc(5," Por favor, seleccione una archivo valido "),c.Sb(),c.Sb()}if(2&e){const e=c.jc();c.Ab(1),c.qc("ngClass",1==e.form.controls.image.invalid?"is-invalid":"")}}function T(e,r){if(1&e&&(c.Tb(0,"span"),c.Oc(1),c.Sb()),2&e){const e=c.jc(2);c.Ab(1),c.Pc(e.responseError.user_name)}}function O(e,r){if(1&e&&(c.Tb(0,"div",39),c.Mc(1,T,2,1,"span",20),c.Sb()),2&e){const e=c.jc();c.Ab(1),c.qc("ngIf",e.responseError.user_name)}}function C(e,r){1&e&&(c.Tb(0,"p"),c.Oc(1," La fecha de nacimiento es campo requerido "),c.Sb())}function q(e,r){1&e&&(c.Tb(0,"p"),c.Oc(1," Debe ser mayor de edad para registrarse "),c.Sb())}function _(e,r){if(1&e&&(c.Tb(0,"div"),c.Mc(1,C,2,0,"p",20),c.Mc(2,q,2,0,"p",20),c.Sb()),2&e){const e=c.jc();c.Ab(1),c.qc("ngIf",e.form.controls.birth_date.errors.required),c.Ab(1),c.qc("ngIf",e.form.controls.birth_date.errors.age)}}function w(e,r){if(1&e&&(c.Tb(0,"option",40),c.Oc(1),c.Sb()),2&e){const e=r.$implicit;c.qc("value",e),c.Ab(1),c.Pc(e)}}function y(e,r){if(1&e&&(c.Tb(0,"span"),c.Oc(1),c.Sb()),2&e){const e=c.jc(2);c.Ab(1),c.Pc(e.responseError.phone)}}function A(e,r){if(1&e&&(c.Tb(0,"div",39),c.Mc(1,y,2,1,"span",20),c.Sb()),2&e){const e=c.jc();c.Ab(1),c.qc("ngIf",e.responseError.phone)}}function M(e,r){if(1&e&&(c.Tb(0,"option",40),c.Oc(1),c.Sb()),2&e){const e=r.$implicit;c.qc("value",e),c.Ab(1),c.Pc(e)}}function P(e,r){if(1&e&&(c.Tb(0,"option",40),c.Oc(1),c.Sb()),2&e){const e=r.$implicit;c.qc("value",e),c.Ab(1),c.Pc(e)}}function x(e,r){if(1&e&&(c.Tb(0,"option",40),c.Oc(1),c.Sb()),2&e){const e=r.$implicit;c.qc("value",e),c.Ab(1),c.Pc(e)}}function I(e,r){1&e&&(c.Tb(0,"div",41),c.Tb(1,"span",42),c.Oc(2,"Loading..."),c.Sb(),c.Sb())}function k(e,r){if(1&e&&c.Ob(0,"img",43),2&e){const e=c.jc();c.qc("src",e.imageUrl,c.Hc)}}let N=(()=>{class e{constructor(e,r,n,o){this.cd=e,this.auth=r,this.misc=n,this.sanitizer=o,this.success=new c.n,this.loading=!1,this.genders=["Hombre","Mujer","Otros"],this.data=[],this.countries=[],this.states=[],this.cities=[],this.form=new t.d({first_name:new t.b("",t.p.required),last_name:new t.b("",t.p.required),birth_date:new t.b("",[t.p.required,p.a]),gender:new t.b("",t.p.required),email:new t.b("",[t.p.required,t.p.email]),phone:new t.b("",[t.p.required,t.p.minLength(10),t.p.maxLength(11)]),countrie:new t.b("",t.p.required),state:new t.b("",t.p.required),citie:new t.b("",t.p.required),direction:new t.b("",t.p.required),image:new t.b("",[t.p.required,g.a]),user_name:new t.b("",t.p.required),password:new t.b("",[t.p.required,t.p.minLength(8)]),role:new t.b("doctor")})}ngOnInit(){this.misc.getCountires().then(e=>{this.data=e,this.data.forEach(e=>{for(const r in e)this.countries.push(r)})})}filterStates(e){const r=this.data.findIndex(r=>Object.keys(r)[0]===e);this.states=Object.keys(this.data[r][e])}filterCitie(e){const r=this.data.findIndex(e=>Object.keys(e)[0]===this.form.controls.countrie.value);this.cities=this.data[r][this.form.controls.countrie.value][e]}onFileChange(e){const r=new FileReader;if(e.target.files&&e.target.files.length){const[n]=e.target.files;r.readAsDataURL(n),r.onload=()=>{this.file=r.result,this.imageUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.file)}}}submit(){const e=Object.assign({},this.form.value),r=this.file.split(",");e.image=r[1],e.data_type=r[0],this.form.valid&&this.auth.registerNutritionist(e).then(e=>{this.success.emit({success:!0,user_name:this.form.controls.user_name.value}),this.loading=!1}).catch(e=>{this.loading=!1,console.error(e.error.errors),this.responseError=e.error.errors})}}return e.\u0275fac=function(r){return new(r||e)(c.Nb(c.h),c.Nb(a.a),c.Nb(h.a),c.Nb(v.b))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-register-form"]],outputs:{success:"success"},decls:133,vars:24,consts:[[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body",2,"padding","1em"],[3,"formGroup"],[1,"grid-container"],[2,"text-align","left","color","grey"],[1,"row",2,"margin-bottom","1em"],[1,"col"],["class","custom-file",4,"ngIf","ngIfElse"],[1,"form-group"],["trim","","type","text","formControlName","user_name","placeholder","Usuario",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["class","errors",4,"ngIf"],["type","password","formControlName","password","placeholder","Contrase\xf1a",1,"form-control",3,"ngClass"],[1,"row"],[1,"col-6"],["type","text","formControlName","first_name","placeholder","Nombre(s)",1,"form-control",3,"ngClass"],["type","text","formControlName","last_name","placeholder","Apellido",1,"form-control",3,"ngClass"],["formControlName","birth_date","type","date","placeholder","Fecha de nacimiento","placement","top",1,"form-control",3,"ngClass"],[4,"ngIf"],["formControlName","gender",1,"custom-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","tel","formControlName","phone","placeholder","123-123-1234",1,"form-control",3,"ngClass"],["type","email","formControlName","email","placeholder","Correo electronico",1,"form-control",3,"ngClass"],[1,"col-4"],["formControlName","countrie",1,"custom-select",3,"ngClass","change"],["st",""],["formControlName","state",1,"custom-select",3,"ngClass","change"],["ct",""],["formControlName","citie",1,"custom-select",3,"ngClass"],[2,"margin-bottom","1em"],["type","text","formControlName","direction","placeholder","Direccion",1,"form-control",3,"ngClass"],[1,"btn","btn-outline-secondary","btn-block",3,"disabled","click"],["class","spinner-border","role","status",4,"ngIf"],["image",""],[1,"custom-file"],["type","file","id","image","formControlName","image","accept","image/*","placeholder","Imagen representativa",1,"custom-file-input",3,"ngClass","change"],["for","image",1,"custom-file-label"],[1,"errors"],[3,"value"],["role","status",1,"spinner-border"],[1,"sr-only"],["alt","...",1,"img-thumbnail",3,"src"]],template:function(e,r){if(1&e){const e=c.Ub();c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"h4",2),c.Oc(3,"Registro de nutriologo"),c.Sb(),c.Sb(),c.Tb(4,"div",3),c.Tb(5,"form",4),c.Tb(6,"div",5),c.Tb(7,"div",6),c.Tb(8,"h6"),c.Oc(9,"Informacion de inicio de sesion"),c.Sb(),c.Sb(),c.Tb(10,"div",7),c.Tb(11,"div",8),c.Tb(12,"label"),c.Oc(13,"Imagen representativa"),c.Sb(),c.Mc(14,S,6,1,"div",9),c.Sb(),c.Tb(15,"div",8),c.Tb(16,"div",10),c.Tb(17,"label"),c.Oc(18,"Usuario"),c.Sb(),c.Ob(19,"input",11),c.Tb(20,"div",12),c.Oc(21," El nombre de usuario es una campo "),c.Tb(22,"strong"),c.Oc(23,"requerido"),c.Sb(),c.Sb(),c.Mc(24,O,2,1,"div",13),c.Sb(),c.Sb(),c.Tb(25,"div",8),c.Tb(26,"div",10),c.Tb(27,"label"),c.Oc(28,"Contrase\xf1a"),c.Sb(),c.Ob(29,"input",14),c.Tb(30,"div",12),c.Oc(31," Debe introducir una Contrase\xf1a valida "),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(32,"div",6),c.Tb(33,"h6"),c.Oc(34,"Informacion personal"),c.Sb(),c.Sb(),c.Tb(35,"div",15),c.Tb(36,"div",16),c.Tb(37,"div",10),c.Tb(38,"label"),c.Oc(39,"Nombre(s)"),c.Sb(),c.Ob(40,"input",17),c.Tb(41,"div",12),c.Oc(42," El nombre es una campo "),c.Tb(43,"strong"),c.Oc(44,"requerido"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(45,"div",16),c.Tb(46,"div",10),c.Tb(47,"label"),c.Oc(48,"Apellido"),c.Sb(),c.Ob(49,"input",18),c.Tb(50,"div",12),c.Oc(51," El apellido es una campo "),c.Tb(52,"strong"),c.Oc(53,"requerido"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(54,"div",15),c.Tb(55,"div",16),c.Tb(56,"div",10),c.Tb(57,"label"),c.Oc(58,"Fecha de nacimiento"),c.Sb(),c.Ob(59,"input",19),c.Tb(60,"div",12),c.Mc(61,_,3,2,"div",20),c.Sb(),c.Sb(),c.Sb(),c.Tb(62,"div",16),c.Tb(63,"div",10),c.Tb(64,"label"),c.Oc(65,"Genero"),c.Sb(),c.Tb(66,"select",21),c.Mc(67,w,2,2,"option",22),c.Sb(),c.Tb(68,"div",12),c.Oc(69," Debe seleccionar un genero "),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(70,"div",6),c.Tb(71,"h6"),c.Oc(72,"Informacion de contacto"),c.Sb(),c.Sb(),c.Tb(73,"div",15),c.Tb(74,"div",16),c.Tb(75,"div",10),c.Tb(76,"label"),c.Oc(77,"Numero celular"),c.Sb(),c.Ob(78,"input",23),c.Tb(79,"div",12),c.Oc(80," El numero celular es una campo "),c.Tb(81,"strong"),c.Oc(82,"requerido"),c.Sb(),c.Sb(),c.Mc(83,A,2,1,"div",13),c.Sb(),c.Sb(),c.Tb(84,"div",16),c.Tb(85,"div",10),c.Tb(86,"label"),c.Oc(87,"Correo electronico"),c.Sb(),c.Ob(88,"input",24),c.Tb(89,"div",12),c.Oc(90," El numero celular es una campo "),c.Tb(91,"strong"),c.Oc(92,"requerido"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(93,"div",15),c.Tb(94,"div",25),c.Tb(95,"div",10),c.Tb(96,"label"),c.Oc(97,"Pais"),c.Sb(),c.Tb(98,"select",26,27),c.fc("change",(function(){c.Fc(e);const n=c.Dc(99);return r.filterStates(n.value)})),c.Mc(100,M,2,2,"option",22),c.Sb(),c.Tb(101,"div",12),c.Oc(102," Debe seleccionar un pais "),c.Sb(),c.Sb(),c.Sb(),c.Tb(103,"div",25),c.Tb(104,"div",10),c.Tb(105,"label"),c.Oc(106,"Estado"),c.Sb(),c.Tb(107,"select",28,29),c.fc("change",(function(){c.Fc(e);const n=c.Dc(108);return r.filterCitie(n.value)})),c.Mc(109,P,2,2,"option",22),c.Sb(),c.Tb(110,"div",12),c.Oc(111," Debe seleccionar un estado "),c.Sb(),c.Sb(),c.Sb(),c.Tb(112,"div",25),c.Tb(113,"div",10),c.Tb(114,"label"),c.Oc(115,"Ciudad"),c.Sb(),c.Tb(116,"select",30),c.Mc(117,x,2,2,"option",22),c.Sb(),c.Tb(118,"div",12),c.Oc(119," Debe de seleccionar una ciudad "),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(120,"div",31),c.Tb(121,"label"),c.Oc(122,"Direccion"),c.Sb(),c.Ob(123,"input",32),c.Tb(124,"div",12),c.Oc(125," La direccion es una campo "),c.Tb(126,"strong"),c.Oc(127,"requerido"),c.Sb(),c.Sb(),c.Sb(),c.Tb(128,"button",33),c.fc("click",(function(){return r.loading=!0,r.submit()})),c.Mc(129,I,3,0,"div",34),c.Oc(130," Guardar Informacion "),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Mc(131,k,1,1,"ng-template",null,35,c.Nc)}if(2&e){const e=c.Dc(132);c.Ab(5),c.qc("formGroup",r.form),c.Ab(9),c.qc("ngIf",!r.imageUrl)("ngIfElse",e),c.Ab(5),c.qc("ngClass",r.form.controls.user_name.invalid?"is-invalid":""),c.Ab(5),c.qc("ngIf",r.responseError),c.Ab(5),c.qc("ngClass",r.form.controls.password.invalid?"is-invalid":""),c.Ab(11),c.qc("ngClass",r.form.controls.first_name.invalid?"is-invalid":""),c.Ab(9),c.qc("ngClass",r.form.controls.last_name.invalid?"is-invalid":""),c.Ab(10),c.qc("ngClass",r.form.controls.birth_date.invalid?"is-invalid":""),c.Ab(2),c.qc("ngIf",r.form.controls.birth_date.errors),c.Ab(5),c.qc("ngClass",r.form.controls.gender.invalid?"is-invalid":""),c.Ab(1),c.qc("ngForOf",r.genders),c.Ab(11),c.qc("ngClass",r.form.controls.phone.invalid?"is-invalid":""),c.Ab(5),c.qc("ngIf",r.responseError),c.Ab(5),c.qc("ngClass",r.form.controls.email.invalid?"is-invalid":""),c.Ab(10),c.qc("ngClass",r.form.controls.countrie.invalid?"is-invalid":""),c.Ab(2),c.qc("ngForOf",r.countries),c.Ab(7),c.qc("ngClass",r.form.controls.state.invalid?"is-invalid":""),c.Ab(2),c.qc("ngForOf",r.states),c.Ab(7),c.qc("ngClass",r.form.controls.citie.invalid?"is-invalid":""),c.Ab(1),c.qc("ngForOf",r.cities),c.Ab(6),c.qc("ngClass",r.form.controls.direction.invalid?"is-invalid":""),c.Ab(5),c.qc("disabled",0==r.form.valid),c.Ab(1),c.qc("ngIf",1==r.loading)}},directives:[t.r,t.k,t.e,o.m,t.a,t.j,t.c,o.k,t.o,o.l,t.m,t.q],styles:[".card[_ngcontent-%COMP%]{width:100%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border-radius:2em}.errors[_ngcontent-%COMP%]{font-size:80%;color:red}"]}),e})(),j=(()=>{class e{constructor(e){this.router=e,this.stage=0}ngOnInit(){}changeStage(e){!0===e.success&&this.router.navigate(["auth/verify"],{queryParams:{username:e.user_name},queryParamsHandling:"merge"})}}return e.\u0275fac=function(r){return new(r||e)(c.Nb(i.b))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-register"]],decls:2,vars:0,consts:[[1,"container-fluid"],[3,"success"]],template:function(e,r){1&e&&(c.Tb(0,"div",0),c.Tb(1,"app-register-form",1),c.fc("success",(function(e){return r.changeStage(e)})),c.Sb(),c.Sb())},directives:[N],styles:[".card[_ngcontent-%COMP%]{width:100%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border-radius:2em}"]}),e})();var L=n("paZ4");function E(e,r){1&e&&(c.Tb(0,"div",16),c.Oc(1," Por favor, introducir un codigo de verificacion valido "),c.Sb())}function F(e,r){if(1&e&&(c.Tb(0,"div",16),c.Oc(1),c.Sb()),2&e){const e=c.jc(2);c.Ab(1),c.Qc(" ",e.response," ")}}function D(e,r){if(1&e){const e=c.Ub();c.Tb(0,"div",3),c.Tb(1,"div",4),c.Tb(2,"h4",5),c.Oc(3,"Verificacion de usuario"),c.Sb(),c.Sb(),c.Tb(4,"div",6),c.Tb(5,"h3",7),c.Oc(6,"Hemos enviado un codigo de verificacion al numero celular que proporcionaste "),c.Sb(),c.Tb(7,"h5",5),c.Oc(8,"Codigo de verificacion"),c.Sb(),c.Tb(9,"form",8),c.Ob(10,"input",9),c.Tb(11,"div",10),c.Tb(12,"div",11),c.Tb(13,"button",12),c.fc("click",(function(){return c.Fc(e),c.jc().confirm()})),c.Oc(14,"Verificar codigo"),c.Sb(),c.Sb(),c.Tb(15,"div",11),c.Tb(16,"button",13),c.fc("click",(function(){return c.Fc(e),c.jc().resend()})),c.Oc(17,"No tengo el codigo"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Mc(18,E,2,0,"div",14),c.Mc(19,F,2,1,"div",15),c.Sb(),c.Sb()}if(2&e){const e=c.jc();c.Ab(9),c.qc("formGroup",e.form),c.Ab(9),c.qc("ngIf",e.form.controls.confirmation_code.invalid),c.Ab(1),c.qc("ngIf",e.response)}}const U=function(){return["/auth/login"]};function H(e,r){1&e&&(c.Tb(0,"div",3),c.Tb(1,"div",4),c.Tb(2,"h4"),c.Oc(3,"Verificacion de usuario"),c.Sb(),c.Sb(),c.Tb(4,"div",6),c.Tb(5,"h2",5),c.Oc(6,"Verificacion de usuario exitosa"),c.Sb(),c.Tb(7,"div",17),c.Tb(8,"a",18),c.Oc(9," Iniciar sesion "),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.Ab(8),c.qc("routerLink",c.tc(1,U)))}const G=[{path:"",children:[{path:"register",component:j},{path:"login",component:f},{path:"verify",component:(()=>{class e{constructor(e,r,n){this.auth=e,this.router=r,this.nutritionist=n,this.success=!1,this.form=new t.d({confirmation_code:new t.b("",[t.p.required,t.p.minLength(4)])})}ngOnInit(){this.router.queryParams.subscribe(e=>{this.username=e.username,this.nutritionist.isVerified(this.username).then(e=>{this.success=e.verified}).catch(e=>{console.error(e)})})}confirm(){if(this.form.valid){const e=this.form.value;e.username=this.username,this.auth.verifyUser(e).then(e=>{this.success=!0}).catch(e=>{console.error(e.error.message),this.response=e.error.message})}}resend(){this.auth.resendCode(this.username).then(e=>{this.response=e.message}).catch(e=>{console.error(e)})}}return e.\u0275fac=function(r){return new(r||e)(c.Nb(a.a),c.Nb(i.a),c.Nb(L.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-verification-form"]],decls:4,vars:2,consts:[[1,"container"],["class","card",4,"ngIf","ngIfElse"],["verified",""],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body",2,"padding","1rem"],[2,"text-align","center"],[3,"formGroup"],["maxlength","4","formControlName","confirmation_code"],[1,"row"],[1,"col"],[1,"btn","btn-outline-info","btn-block",3,"click"],[1,"btn","btn-outline-warning","btn-block",3,"click"],["style","margin-top: 1em;","class","alert alert-danger text-center","role","alert",4,"ngIf"],["class","alert alert-danger text-center","style","margin-top: 1em;","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","text-center",2,"margin-top","1em"],["role","alert",1,"alert","alert-info","text-center",2,"margin-top","1em"],["routerLinkActive","router-link-active",1,"button","small","expanded",3,"routerLink"]],template:function(e,r){if(1&e&&(c.Tb(0,"div",0),c.Mc(1,D,20,3,"div",1),c.Sb(),c.Mc(2,H,10,2,"ng-template",null,2,c.Nc)),2&e){const e=c.Dc(3);c.Ab(1),c.qc("ngIf",0==r.success)("ngIfElse",e)}},directives:[o.m,t.r,t.k,t.e,t.a,t.g,t.j,t.c,i.d,i.c],styles:[".card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:50%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.error[_ngcontent-%COMP%]{color:red}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border-radius:2em}input[_ngcontent-%COMP%]{display:block;margin:1em auto;border:none;padding:0;width:6ch;background:repeating-linear-gradient(90deg,#696969,#696969 1ch,transparent 0,transparent 1.5ch) 0 100%/5.5ch 2px no-repeat;font:5ch droid sans mono,consolas,monospace;letter-spacing:.5ch}input[_ngcontent-%COMP%]:focus{outline:none;color:#1e90ff}"]}),e})()}]}];let R=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(r){return new(r||e)},imports:[[i.e.forChild(G)],i.e]}),e})(),V=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(r){return new(r||e)},imports:[[o.c,R,t.n,t.f]]}),e})()}}]);