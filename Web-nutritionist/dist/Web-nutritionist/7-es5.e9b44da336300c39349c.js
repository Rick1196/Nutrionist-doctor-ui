function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function _iterableToArrayLimit(e,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],t=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(t=(a=c.next()).done)&&(n.push(a.value),!r||n.length!==r);t=!0);}catch(s){o=!0,i=s}finally{try{t||null==c.return||c.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"305l":function(e,r,n){"use strict";n.r(r),n.d(r,"AuthModule",(function(){return re}));var t=n("ofXK"),o=n("3Pt+"),i=n("tyNb"),a=n("fXoL"),c=n("AhZb");function s(e,r){if(1&e&&(a.Tb(0,"div",20),a.Oc(1),a.Sb()),2&e){var n=a.jc();a.Ab(1),a.Qc(" ",n.errorResponse," ")}}function u(e,r){1&e&&(a.Tb(0,"div",21),a.Tb(1,"span",22),a.Oc(2,"Loading..."),a.Sb(),a.Sb())}var b=function(){return["/auth/verify"]},l=function(e){return{username:e}};function d(e,r){if(1&e&&(a.Tb(0,"a",23),a.Oc(1,"Verificar usuario"),a.Sb()),2&e){a.jc();var n=a.Dc(11);a.qc("routerLink",a.tc(2,b))("queryParams",a.uc(3,l,n.value))}}var f,m=function(){return[" /auth/register"]},p=((f=function(){function e(r,n){_classCallCheck(this,e),this.auth=r,this.router=n,this.loading=!1,this.form=new o.d({user_name:new o.b("",o.p.required),password:new o.b("",o.p.required)})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"submit",value:function(){var e=this;this.auth.loginUser(this.form.value).then((function(r){e.router.navigate("doctor"===r.role?["/nutritionist/home"]:["/patient/home"],{queryParams:{username:e.form.controls.user_name.value},queryParamsHandling:"merge"})})).catch((function(r){e.loading=!1,e.errorResponse=r.error.errors?r.error.errors[0].message.username:r.error.error}))}},{key:"sendCode",value:function(){var e=this;this.auth.requestChange(this.form.controls.user_name.value).then((function(r){e.router.navigate(["auth/change-password"],{queryParams:{username:e.form.controls.user_name.value},queryParamsHandling:"merge"})})).catch((function(r){r.error.errors?(console.log("ad"),e.errorResponse=r.error.errors[0].message.message):(console.log("bas"),e.errorResponse=r.error.error)}))}}]),e}()).\u0275fac=function(e){return new(e||f)(a.Nb(c.a),a.Nb(i.b))},f.\u0275cmp=a.Hb({type:f,selectors:[["app-login"]],decls:36,vars:9,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body",2,"padding","1em"],[3,"formGroup"],[1,"form-group"],["for","usuario"],["type","text","formControlName","user_name","placeholder","Usuario",1,"form-control",3,"ngClass"],["user",""],[1,"invalid-feedback"],["for","password"],["type","password","formControlName","password","placeholder","Contrase\xf1a",1,"form-control",3,"ngClass"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"btn","btn-outline-secondary","btn-block",3,"disabled","click"],["class","spinner-border","role","status",4,"ngIf"],[1,"mt-1","mb-1"],["routerLinkActive","router-link-active",3,"click"],["routerLinkActive","router-link-active",3,"routerLink"],["queryParamsHandling","merge",3,"routerLink","queryParams",4,"ngIf"],["role","alert",1,"alert","alert-danger"],["role","status",1,"spinner-border"],[1,"sr-only"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:function(e,r){if(1&e&&(a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"div",2),a.Tb(3,"h4",3),a.Oc(4,"Inicio de sesion"),a.Sb(),a.Sb(),a.Tb(5,"div",4),a.Tb(6,"form",5),a.Tb(7,"div",6),a.Tb(8,"label",7),a.Oc(9,"Usuario"),a.Sb(),a.Ob(10,"input",8,9),a.Tb(12,"div",10),a.Oc(13," El nombre de usuario es una campo "),a.Tb(14,"strong"),a.Oc(15,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Tb(16,"div",6),a.Tb(17,"label",11),a.Oc(18,"Contrase\xf1a"),a.Sb(),a.Ob(19,"input",12),a.Tb(20,"div",10),a.Oc(21," La contrase\xf1a es una campo "),a.Tb(22,"strong"),a.Oc(23,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Mc(24,s,2,1,"div",13),a.Tb(25,"button",14),a.fc("click",(function(){return r.loading=!0,r.submit()})),a.Mc(26,u,3,0,"div",15),a.Oc(27," Iniciar sesion "),a.Sb(),a.Tb(28,"div",16),a.Tb(29,"a",17),a.fc("click",(function(){return r.sendCode()})),a.Oc(30,"He olvidado mi password"),a.Sb(),a.Sb(),a.Tb(31,"div",16),a.Tb(32,"a",18),a.Oc(33,"Registrarse"),a.Sb(),a.Sb(),a.Tb(34,"div",16),a.Mc(35,d,2,5,"a",19),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e){var n=a.Dc(11);a.Ab(6),a.qc("formGroup",r.form),a.Ab(4),a.qc("ngClass",r.form.controls.user_name.invalid&&r.form.controls.user_name.touched?"is-invalid":""),a.Ab(9),a.qc("ngClass",r.form.controls.password.invalid&&r.form.controls.password.touched?"is-invalid":""),a.Ab(5),a.qc("ngIf",r.errorResponse),a.Ab(1),a.qc("disabled",0==r.form.valid),a.Ab(1),a.qc("ngIf",1==r.loading),a.Ab(6),a.qc("routerLink",a.tc(8,m)),a.Ab(3),a.qc("ngIf",n.value)}},directives:[o.r,o.k,o.e,o.a,o.j,o.c,t.k,t.m,i.c,i.d],styles:[".card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:90%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border-radius:2em}"]}),f),g=n("Gdhr"),v=n("Ii8c"),h=n("GNEJ"),S=n("jhN1");function T(e,r){if(1&e){var n=a.Ub();a.Tb(0,"div",36),a.Tb(1,"input",37),a.fc("change",(function(e){return a.Fc(n),a.jc().onFileChange(e)})),a.Sb(),a.Tb(2,"label",38),a.Oc(3,"Seleccionar imagen"),a.Sb(),a.Tb(4,"div",12),a.Oc(5," Por favor, seleccione una archivo valido "),a.Sb(),a.Sb()}if(2&e){var t=a.jc();a.Ab(1),a.qc("ngClass",1==t.form.controls.image.invalid?"is-invalid":"")}}function O(e,r){if(1&e&&(a.Tb(0,"span"),a.Oc(1),a.Sb()),2&e){var n=a.jc(2);a.Ab(1),a.Pc(n.responseError.user_name)}}function C(e,r){if(1&e&&(a.Tb(0,"div",39),a.Mc(1,O,2,1,"span",20),a.Sb()),2&e){var n=a.jc();a.Ab(1),a.qc("ngIf",n.responseError.user_name)}}function y(e,r){1&e&&(a.Tb(0,"p"),a.Oc(1," La fecha de nacimiento es campo requerido "),a.Sb())}function _(e,r){1&e&&(a.Tb(0,"p"),a.Oc(1," Debe ser mayor de edad para registrarse "),a.Sb())}function k(e,r){if(1&e&&(a.Tb(0,"div"),a.Mc(1,y,2,0,"p",20),a.Mc(2,_,2,0,"p",20),a.Sb()),2&e){var n=a.jc();a.Ab(1),a.qc("ngIf",n.form.controls.birth_date.errors.required),a.Ab(1),a.qc("ngIf",n.form.controls.birth_date.errors.age)}}function w(e,r){if(1&e&&(a.Tb(0,"option",40),a.Oc(1),a.Sb()),2&e){var n=r.$implicit;a.qc("value",n),a.Ab(1),a.Pc(n)}}function q(e,r){if(1&e&&(a.Tb(0,"span"),a.Oc(1),a.Sb()),2&e){var n=a.jc(2);a.Ab(1),a.Pc(n.responseError.phone)}}function P(e,r){if(1&e&&(a.Tb(0,"div",39),a.Mc(1,q,2,1,"span",20),a.Sb()),2&e){var n=a.jc();a.Ab(1),a.qc("ngIf",n.responseError.phone)}}function A(e,r){if(1&e&&(a.Tb(0,"option",40),a.Oc(1),a.Sb()),2&e){var n=r.$implicit;a.qc("value",n),a.Ab(1),a.Pc(n)}}function M(e,r){if(1&e&&(a.Tb(0,"option",40),a.Oc(1),a.Sb()),2&e){var n=r.$implicit;a.qc("value",n),a.Ab(1),a.Pc(n)}}function x(e,r){if(1&e&&(a.Tb(0,"option",40),a.Oc(1),a.Sb()),2&e){var n=r.$implicit;a.qc("value",n),a.Ab(1),a.Pc(n)}}function I(e,r){1&e&&(a.Tb(0,"div",41),a.Tb(1,"span",42),a.Oc(2,"Loading..."),a.Sb(),a.Sb())}function N(e,r){if(1&e&&a.Ob(0,"img",43),2&e){var n=a.jc();a.qc("src",n.imageUrl,a.Hc)}}var j,L,U=((L=function(){function e(r,n,t,i){_classCallCheck(this,e),this.cd=r,this.auth=n,this.misc=t,this.sanitizer=i,this.success=new a.n,this.loading=!1,this.genders=["Hombre","Mujer","Otros"],this.data=[],this.countries=[],this.states=[],this.cities=[],this.form=new o.d({first_name:new o.b("",o.p.required),last_name:new o.b("",o.p.required),birth_date:new o.b("",[o.p.required,v.a]),gender:new o.b("",o.p.required),email:new o.b("",[o.p.required,o.p.email]),phone:new o.b("",[o.p.required,o.p.minLength(10),o.p.maxLength(11)]),countrie:new o.b("",o.p.required),state:new o.b("",o.p.required),citie:new o.b("",o.p.required),direction:new o.b("",o.p.required),image:new o.b("",[o.p.required,g.a]),user_name:new o.b("",o.p.required),password:new o.b("",[o.p.required,o.p.minLength(8)]),role:new o.b("doctor")})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.misc.getCountires().then((function(r){e.data=r,e.data.forEach((function(r){for(var n in r)e.countries.push(n)}))}))}},{key:"filterStates",value:function(e){var r=this.data.findIndex((function(r){return Object.keys(r)[0]===e}));this.states=Object.keys(this.data[r][e])}},{key:"filterCitie",value:function(e){var r=this,n=this.data.findIndex((function(e){return Object.keys(e)[0]===r.form.controls.countrie.value}));this.cities=this.data[n][this.form.controls.countrie.value][e]}},{key:"onFileChange",value:function(e){var r=this,n=new FileReader;if(e.target.files&&e.target.files.length){var t=_slicedToArray(e.target.files,1)[0];n.readAsDataURL(t),n.onload=function(){r.file=n.result,r.imageUrl=r.sanitizer.bypassSecurityTrustResourceUrl(r.file)}}}},{key:"submit",value:function(){var e=this,r=Object.assign({},this.form.value),n=this.file.split(",");r.image=n[1],r.data_type=n[0],this.form.valid&&this.auth.registerNutritionist(r).then((function(r){e.success.emit({success:!0,user_name:e.form.controls.user_name.value}),e.loading=!1})).catch((function(r){e.loading=!1,console.error(r.error.errors),e.responseError=r.error.errors}))}}]),e}()).\u0275fac=function(e){return new(e||L)(a.Nb(a.h),a.Nb(c.a),a.Nb(h.a),a.Nb(S.b))},L.\u0275cmp=a.Hb({type:L,selectors:[["app-register-form"]],outputs:{success:"success"},decls:133,vars:24,consts:[[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body",2,"padding","1em"],[3,"formGroup"],[1,"grid-container"],[2,"text-align","left","color","grey"],[1,"row",2,"margin-bottom","1em"],[1,"col"],["class","custom-file",4,"ngIf","ngIfElse"],[1,"form-group"],["trim","","type","text","formControlName","user_name","placeholder","Usuario",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["class","errors",4,"ngIf"],["type","password","formControlName","password","placeholder","Contrase\xf1a",1,"form-control",3,"ngClass"],[1,"row"],[1,"col-6"],["type","text","formControlName","first_name","placeholder","Nombre(s)",1,"form-control",3,"ngClass"],["type","text","formControlName","last_name","placeholder","Apellido",1,"form-control",3,"ngClass"],["formControlName","birth_date","type","date","placeholder","Fecha de nacimiento","placement","top",1,"form-control",3,"ngClass"],[4,"ngIf"],["formControlName","gender",1,"custom-select",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["type","tel","formControlName","phone","placeholder","123-123-1234",1,"form-control",3,"ngClass"],["type","email","formControlName","email","placeholder","Correo electronico",1,"form-control",3,"ngClass"],[1,"col-4"],["formControlName","countrie",1,"custom-select",3,"ngClass","change"],["st",""],["formControlName","state",1,"custom-select",3,"ngClass","change"],["ct",""],["formControlName","citie",1,"custom-select",3,"ngClass"],[2,"margin-bottom","1em"],["type","text","formControlName","direction","placeholder","Direccion",1,"form-control",3,"ngClass"],[1,"btn","btn-outline-secondary","btn-block",3,"disabled","click"],["class","spinner-border","role","status",4,"ngIf"],["image",""],[1,"custom-file"],["type","file","id","image","formControlName","image","accept","image/*","placeholder","Imagen representativa",1,"custom-file-input",3,"ngClass","change"],["for","image",1,"custom-file-label"],[1,"errors"],[3,"value"],["role","status",1,"spinner-border"],[1,"sr-only"],["alt","...",1,"img-thumbnail",3,"src"]],template:function(e,r){if(1&e){var n=a.Ub();a.Tb(0,"div",0),a.Tb(1,"div",1),a.Tb(2,"h4",2),a.Oc(3,"Registro de nutriologo"),a.Sb(),a.Sb(),a.Tb(4,"div",3),a.Tb(5,"form",4),a.Tb(6,"div",5),a.Tb(7,"div",6),a.Tb(8,"h6"),a.Oc(9,"Informacion de inicio de sesion"),a.Sb(),a.Sb(),a.Tb(10,"div",7),a.Tb(11,"div",8),a.Tb(12,"label"),a.Oc(13,"Imagen representativa"),a.Sb(),a.Mc(14,T,6,1,"div",9),a.Sb(),a.Tb(15,"div",8),a.Tb(16,"div",10),a.Tb(17,"label"),a.Oc(18,"Usuario"),a.Sb(),a.Ob(19,"input",11),a.Tb(20,"div",12),a.Oc(21," El nombre de usuario es una campo "),a.Tb(22,"strong"),a.Oc(23,"requerido"),a.Sb(),a.Sb(),a.Mc(24,C,2,1,"div",13),a.Sb(),a.Sb(),a.Tb(25,"div",8),a.Tb(26,"div",10),a.Tb(27,"label"),a.Oc(28,"Contrase\xf1a"),a.Sb(),a.Ob(29,"input",14),a.Tb(30,"div",12),a.Oc(31," Debe introducir una Contrase\xf1a valida "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(32,"div",6),a.Tb(33,"h6"),a.Oc(34,"Informacion personal"),a.Sb(),a.Sb(),a.Tb(35,"div",15),a.Tb(36,"div",16),a.Tb(37,"div",10),a.Tb(38,"label"),a.Oc(39,"Nombre(s)"),a.Sb(),a.Ob(40,"input",17),a.Tb(41,"div",12),a.Oc(42," El nombre es una campo "),a.Tb(43,"strong"),a.Oc(44,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(45,"div",16),a.Tb(46,"div",10),a.Tb(47,"label"),a.Oc(48,"Apellido"),a.Sb(),a.Ob(49,"input",18),a.Tb(50,"div",12),a.Oc(51," El apellido es una campo "),a.Tb(52,"strong"),a.Oc(53,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(54,"div",15),a.Tb(55,"div",16),a.Tb(56,"div",10),a.Tb(57,"label"),a.Oc(58,"Fecha de nacimiento"),a.Sb(),a.Ob(59,"input",19),a.Tb(60,"div",12),a.Mc(61,k,3,2,"div",20),a.Sb(),a.Sb(),a.Sb(),a.Tb(62,"div",16),a.Tb(63,"div",10),a.Tb(64,"label"),a.Oc(65,"Genero"),a.Sb(),a.Tb(66,"select",21),a.Mc(67,w,2,2,"option",22),a.Sb(),a.Tb(68,"div",12),a.Oc(69," Debe seleccionar un genero "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(70,"div",6),a.Tb(71,"h6"),a.Oc(72,"Informacion de contacto"),a.Sb(),a.Sb(),a.Tb(73,"div",15),a.Tb(74,"div",16),a.Tb(75,"div",10),a.Tb(76,"label"),a.Oc(77,"Numero celular"),a.Sb(),a.Ob(78,"input",23),a.Tb(79,"div",12),a.Oc(80," El numero celular es una campo "),a.Tb(81,"strong"),a.Oc(82,"requerido"),a.Sb(),a.Sb(),a.Mc(83,P,2,1,"div",13),a.Sb(),a.Sb(),a.Tb(84,"div",16),a.Tb(85,"div",10),a.Tb(86,"label"),a.Oc(87,"Correo electronico"),a.Sb(),a.Ob(88,"input",24),a.Tb(89,"div",12),a.Oc(90," El numero celular es una campo "),a.Tb(91,"strong"),a.Oc(92,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(93,"div",15),a.Tb(94,"div",25),a.Tb(95,"div",10),a.Tb(96,"label"),a.Oc(97,"Pais"),a.Sb(),a.Tb(98,"select",26,27),a.fc("change",(function(){a.Fc(n);var e=a.Dc(99);return r.filterStates(e.value)})),a.Mc(100,A,2,2,"option",22),a.Sb(),a.Tb(101,"div",12),a.Oc(102," Debe seleccionar un pais "),a.Sb(),a.Sb(),a.Sb(),a.Tb(103,"div",25),a.Tb(104,"div",10),a.Tb(105,"label"),a.Oc(106,"Estado"),a.Sb(),a.Tb(107,"select",28,29),a.fc("change",(function(){a.Fc(n);var e=a.Dc(108);return r.filterCitie(e.value)})),a.Mc(109,M,2,2,"option",22),a.Sb(),a.Tb(110,"div",12),a.Oc(111," Debe seleccionar un estado "),a.Sb(),a.Sb(),a.Sb(),a.Tb(112,"div",25),a.Tb(113,"div",10),a.Tb(114,"label"),a.Oc(115,"Ciudad"),a.Sb(),a.Tb(116,"select",30),a.Mc(117,x,2,2,"option",22),a.Sb(),a.Tb(118,"div",12),a.Oc(119," Debe de seleccionar una ciudad "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Tb(120,"div",31),a.Tb(121,"label"),a.Oc(122,"Direccion"),a.Sb(),a.Ob(123,"input",32),a.Tb(124,"div",12),a.Oc(125," La direccion es una campo "),a.Tb(126,"strong"),a.Oc(127,"requerido"),a.Sb(),a.Sb(),a.Sb(),a.Tb(128,"button",33),a.fc("click",(function(){return r.loading=!0,r.submit()})),a.Mc(129,I,3,0,"div",34),a.Oc(130," Guardar Informacion "),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Mc(131,N,1,1,"ng-template",null,35,a.Nc)}if(2&e){var t=a.Dc(132);a.Ab(5),a.qc("formGroup",r.form),a.Ab(9),a.qc("ngIf",!r.imageUrl)("ngIfElse",t),a.Ab(5),a.qc("ngClass",r.form.controls.user_name.invalid?"is-invalid":""),a.Ab(5),a.qc("ngIf",r.responseError),a.Ab(5),a.qc("ngClass",r.form.controls.password.invalid?"is-invalid":""),a.Ab(11),a.qc("ngClass",r.form.controls.first_name.invalid?"is-invalid":""),a.Ab(9),a.qc("ngClass",r.form.controls.last_name.invalid?"is-invalid":""),a.Ab(10),a.qc("ngClass",r.form.controls.birth_date.invalid?"is-invalid":""),a.Ab(2),a.qc("ngIf",r.form.controls.birth_date.errors),a.Ab(5),a.qc("ngClass",r.form.controls.gender.invalid?"is-invalid":""),a.Ab(1),a.qc("ngForOf",r.genders),a.Ab(11),a.qc("ngClass",r.form.controls.phone.invalid?"is-invalid":""),a.Ab(5),a.qc("ngIf",r.responseError),a.Ab(5),a.qc("ngClass",r.form.controls.email.invalid?"is-invalid":""),a.Ab(10),a.qc("ngClass",r.form.controls.countrie.invalid?"is-invalid":""),a.Ab(2),a.qc("ngForOf",r.countries),a.Ab(7),a.qc("ngClass",r.form.controls.state.invalid?"is-invalid":""),a.Ab(2),a.qc("ngForOf",r.states),a.Ab(7),a.qc("ngClass",r.form.controls.citie.invalid?"is-invalid":""),a.Ab(1),a.qc("ngForOf",r.cities),a.Ab(6),a.qc("ngClass",r.form.controls.direction.invalid?"is-invalid":""),a.Ab(5),a.qc("disabled",0==r.form.valid),a.Ab(1),a.qc("ngIf",1==r.loading)}},directives:[o.r,o.k,o.e,t.m,o.a,o.j,o.c,t.k,o.o,t.l,o.m,o.q],styles:[".card[_ngcontent-%COMP%]{width:100%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border-radius:2em}.errors[_ngcontent-%COMP%]{font-size:80%;color:red}"]}),L),E=((j=function(){function e(r){_classCallCheck(this,e),this.router=r,this.stage=0}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"changeStage",value:function(e){!0===e.success&&this.router.navigate(["auth/verify"],{queryParams:{username:e.user_name},queryParamsHandling:"merge"})}}]),e}()).\u0275fac=function(e){return new(e||j)(a.Nb(i.b))},j.\u0275cmp=a.Hb({type:j,selectors:[["app-register"]],decls:2,vars:0,consts:[[1,"container-fluid"],[3,"success"]],template:function(e,r){1&e&&(a.Tb(0,"div",0),a.Tb(1,"app-register-form",1),a.fc("success",(function(e){return r.changeStage(e)})),a.Sb(),a.Sb())},directives:[U],styles:[".card[_ngcontent-%COMP%]{width:100%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border-radius:2em}"]}),j),F=n("paZ4");function H(e,r){1&e&&(a.Tb(0,"div",16),a.Oc(1," Por favor, introducir un codigo de verificacion valido "),a.Sb())}function D(e,r){if(1&e&&(a.Tb(0,"div",16),a.Oc(1),a.Sb()),2&e){var n=a.jc(2);a.Ab(1),a.Qc(" ",n.response," ")}}function R(e,r){if(1&e){var n=a.Ub();a.Tb(0,"div",3),a.Tb(1,"div",4),a.Tb(2,"h4",5),a.Oc(3,"Verificacion de usuario"),a.Sb(),a.Sb(),a.Tb(4,"div",6),a.Tb(5,"h3",7),a.Oc(6,"Hemos enviado un codigo de verificacion al numero celular que proporcionaste "),a.Sb(),a.Tb(7,"h5",5),a.Oc(8,"Codigo de verificacion"),a.Sb(),a.Tb(9,"form",8),a.Ob(10,"input",9),a.Tb(11,"div",10),a.Tb(12,"div",11),a.Tb(13,"button",12),a.fc("click",(function(){return a.Fc(n),a.jc().confirm()})),a.Oc(14,"Verificar codigo"),a.Sb(),a.Sb(),a.Tb(15,"div",11),a.Tb(16,"button",13),a.fc("click",(function(){return a.Fc(n),a.jc().resend()})),a.Oc(17,"No tengo el codigo"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Mc(18,H,2,0,"div",14),a.Mc(19,D,2,1,"div",15),a.Sb(),a.Sb()}if(2&e){var t=a.jc();a.Ab(9),a.qc("formGroup",t.form),a.Ab(9),a.qc("ngIf",t.form.controls.confirmation_code.invalid),a.Ab(1),a.qc("ngIf",t.response)}}var G=function(){return["/auth/login"]};function V(e,r){1&e&&(a.Tb(0,"div",3),a.Tb(1,"div",4),a.Tb(2,"h4"),a.Oc(3,"Verificacion de usuario"),a.Sb(),a.Sb(),a.Tb(4,"div",6),a.Tb(5,"h2",5),a.Oc(6,"Verificacion de usuario exitosa"),a.Sb(),a.Tb(7,"div",17),a.Tb(8,"a",18),a.Oc(9," Iniciar sesion "),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.Ab(8),a.qc("routerLink",a.tc(1,G)))}function z(e,r){1&e&&(a.Tb(0,"div",18),a.Oc(1," Por favor, introducir un codigo de seguridad valido "),a.Sb())}function $(e,r){if(1&e&&(a.Tb(0,"div",18),a.Oc(1),a.Sb()),2&e){var n=a.jc(2);a.Ab(1),a.Qc(" ",n.response," ")}}function J(e,r){if(1&e){var n=a.Ub();a.Tb(0,"div",3),a.Tb(1,"div",4),a.Tb(2,"h4",5),a.Oc(3,"Verificacion de usuario"),a.Sb(),a.Sb(),a.Tb(4,"div",6),a.Tb(5,"h3",7),a.Oc(6,"Hemos enviado un codigo de seguridad al numero celular que proporcionaste "),a.Sb(),a.Tb(7,"h5",5),a.Oc(8,"Codigo de seguridad"),a.Sb(),a.Tb(9,"form",8),a.Ob(10,"input",9),a.Tb(11,"div",10),a.Ob(12,"input",11),a.Sb(),a.Tb(13,"div",12),a.Tb(14,"div",13),a.Tb(15,"button",14),a.fc("click",(function(){return a.Fc(n),a.jc().confirm()})),a.Oc(16,"Cambiar password"),a.Sb(),a.Sb(),a.Tb(17,"div",13),a.Tb(18,"button",15),a.fc("click",(function(){return a.Fc(n),a.jc().resend()})),a.Oc(19,"No tengo el codigo"),a.Sb(),a.Sb(),a.Sb(),a.Sb(),a.Mc(20,z,2,0,"div",16),a.Mc(21,$,2,1,"div",17),a.Sb(),a.Sb()}if(2&e){var t=a.jc();a.Ab(9),a.qc("formGroup",t.form),a.Ab(11),a.qc("ngIf",t.form.controls.confirmation_code.invalid),a.Ab(1),a.qc("ngIf",t.response)}}var K=function(){return["/auth/login"]};function Q(e,r){1&e&&(a.Tb(0,"div",3),a.Tb(1,"div",4),a.Tb(2,"h4"),a.Oc(3,"Cambio de password"),a.Sb(),a.Sb(),a.Tb(4,"div",6),a.Tb(5,"h2",5),a.Oc(6,"Cambio de password exitosa"),a.Sb(),a.Tb(7,"div",19),a.Tb(8,"a",20),a.Oc(9," Iniciar sesion "),a.Sb(),a.Sb(),a.Sb(),a.Sb()),2&e&&(a.Ab(8),a.qc("routerLink",a.tc(1,K)))}var X,Z,W,B,Y=[{path:"",children:[{path:"register",component:E},{path:"login",component:p},{path:"verify",component:(Z=function(){function e(r,n,t){_classCallCheck(this,e),this.auth=r,this.router=n,this.nutritionist=t,this.success=!1,this.form=new o.d({confirmation_code:new o.b("",[o.p.required,o.p.minLength(4)])})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.router.queryParams.subscribe((function(r){e.username=r.username,console.log(e.username),e.nutritionist.isVerified(e.username).then((function(r){e.success=r.verified})).catch((function(e){console.error(e)}))}))}},{key:"confirm",value:function(){var e=this;if(this.form.valid){var r=this.form.value;r.username=this.username,this.auth.verifyUser(r).then((function(r){e.success=!0})).catch((function(r){console.error(r.error.message),e.response=r.error.message}))}}},{key:"resend",value:function(){var e=this;this.auth.resendCode(this.username).then((function(r){e.response=r.message})).catch((function(e){console.error(e)}))}}]),e}(),Z.\u0275fac=function(e){return new(e||Z)(a.Nb(c.a),a.Nb(i.a),a.Nb(F.a))},Z.\u0275cmp=a.Hb({type:Z,selectors:[["app-verification-form"]],decls:4,vars:2,consts:[[1,"container"],["class","card",4,"ngIf","ngIfElse"],["verified",""],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body",2,"padding","1rem"],[2,"text-align","center"],[3,"formGroup"],["maxlength","4","formControlName","confirmation_code"],[1,"row"],[1,"col"],[1,"btn","btn-outline-info","btn-block",3,"click"],[1,"btn","btn-outline-warning","btn-block",3,"click"],["style","margin-top: 1em;","class","alert alert-danger text-center","role","alert",4,"ngIf"],["class","alert alert-danger text-center","style","margin-top: 1em;","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","text-center",2,"margin-top","1em"],["role","alert",1,"alert","alert-info","text-center",2,"margin-top","1em"],["routerLinkActive","router-link-active",1,"button","small","expanded",3,"routerLink"]],template:function(e,r){if(1&e&&(a.Tb(0,"div",0),a.Mc(1,R,20,3,"div",1),a.Sb(),a.Mc(2,V,10,2,"ng-template",null,2,a.Nc)),2&e){var n=a.Dc(3);a.Ab(1),a.qc("ngIf",0==r.success)("ngIfElse",n)}},directives:[t.m,o.r,o.k,o.e,o.a,o.g,o.j,o.c,i.d,i.c],styles:[".card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:50%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.error[_ngcontent-%COMP%]{color:red}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border-radius:2em}input[_ngcontent-%COMP%]{display:block;margin:1em auto;border:none;padding:0;width:6ch;background:repeating-linear-gradient(90deg,#696969,#696969 1ch,transparent 0,transparent 1.5ch) 0 100%/5.5ch 2px no-repeat;font:5ch droid sans mono,consolas,monospace;letter-spacing:.5ch}input[_ngcontent-%COMP%]:focus{outline:none;color:#1e90ff}"]}),Z)},{path:"change-password",component:(X=function(){function e(r,n){_classCallCheck(this,e),this.router=r,this.auth=n,this.success=!1,this.form=new o.d({confirmation_code:new o.b("",[o.p.required,o.p.minLength(4)]),password:new o.b("",o.p.required)})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.router.queryParams.subscribe((function(r){e.username=r.username}))}},{key:"confirm",value:function(){var e=this;if(this.form.valid){var r=this.form.value;r.username=this.username,this.auth.changePassword(r.username,r.password,r.confirmation_code).then((function(r){e.success=!0})).catch((function(r){console.error(r.error.message),e.response=r.error.message}))}}},{key:"resend",value:function(){var e=this;this.auth.resendCode(this.username).then((function(r){e.response=r.message})).catch((function(e){console.error(e)}))}}]),e}(),X.\u0275fac=function(e){return new(e||X)(a.Nb(i.a),a.Nb(c.a))},X.\u0275cmp=a.Hb({type:X,selectors:[["app-change"]],decls:4,vars:2,consts:[[1,"container"],["class","card",4,"ngIf","ngIfElse"],["verified",""],[1,"card"],[1,"card-header"],[1,"text-center"],[1,"card-body",2,"padding","1rem"],[2,"text-align","center"],[3,"formGroup"],["maxlength","4","formControlName","confirmation_code",1,"code"],[1,"d-flex","justify-content-center","mb-3"],["type","password","placeholder","Nuevo password","maxlength","12","formControlName","password"],[1,"row"],[1,"col"],[1,"btn","btn-outline-info","btn-block",3,"click"],[1,"btn","btn-outline-warning","btn-block",3,"click"],["style","margin-top: 1em;","class","alert alert-danger text-center","role","alert",4,"ngIf"],["class","alert alert-danger text-center","style","margin-top: 1em;","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","text-center",2,"margin-top","1em"],["role","alert",1,"alert","alert-info","text-center",2,"margin-top","1em"],["routerLinkActive","router-link-active",1,"button","small","expanded",3,"routerLink"]],template:function(e,r){if(1&e&&(a.Tb(0,"div",0),a.Mc(1,J,22,3,"div",1),a.Sb(),a.Mc(2,Q,10,2,"ng-template",null,2,a.Nc)),2&e){var n=a.Dc(3);a.Ab(1),a.qc("ngIf",0==r.success)("ngIfElse",n)}},directives:[t.m,o.r,o.k,o.e,o.a,o.g,o.j,o.c,i.d,i.c],styles:[".card[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;width:50%;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19);border-radius:2em}.card-header[_ngcontent-%COMP%]{background-color:#4d7e7e;color:#fff;border-radius:2em;margin-bottom:2em}.text-center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{padding:2em}.error[_ngcontent-%COMP%]{color:red}.alert[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border-radius:2em}input.code[_ngcontent-%COMP%]{display:block;margin:1em auto;border:none;padding:0;width:6ch;background:repeating-linear-gradient(90deg,#696969,#696969 1ch,transparent 0,transparent 1.5ch) 0 100%/5.5ch 2px no-repeat;font:5ch droid sans mono,consolas,monospace;letter-spacing:.5ch}input.code[_ngcontent-%COMP%]:focus{outline:none;color:#1e90ff}"]}),X)}]}],ee=((B=function e(){_classCallCheck(this,e)}).\u0275mod=a.Lb({type:B}),B.\u0275inj=a.Kb({factory:function(e){return new(e||B)},imports:[[i.e.forChild(Y)],i.e]}),B),re=((W=function e(){_classCallCheck(this,e)}).\u0275mod=a.Lb({type:W}),W.\u0275inj=a.Kb({factory:function(e){return new(e||W)},imports:[[t.c,ee,o.n,o.f]]}),W)},paZ4:function(e,r,n){"use strict";n.d(r,"a",(function(){return a}));var t=n("tk/3"),o=n("AytR"),i=n("fXoL"),a=function(){var e=function(){function e(r){_classCallCheck(this,e),this.http=r}return _createClass(e,[{key:"getNutritionistProfile",value:function(e){var r=this;return new Promise((function(n,t){r.http.get("".concat(o.a.baseUrl,"/v1/nutritionist/get-nutritionist-profile/").concat(e)).subscribe((function(e){return n(e)}),(function(e){return t(e)}))}))}},{key:"getStatistics",value:function(e){var r=this;return new Promise((function(n,t){r.http.get("".concat(o.a.baseUrl,"/v1/nutritionist/get-statistics/").concat(e)).subscribe((function(e){return n(e)}),(function(e){return t(e)}))}))}},{key:"getConsultations",value:function(e){var r=this;return new Promise((function(n,i){var a=new t.d;a=(a=(a=(a=a.append("start",e.start)).append("end",e.end)).append("nutritionist",e.nutritionist)).append("atended",e.atended),r.http.get("".concat(o.a.baseUrl,"/v1/schedule/filter-by-range"),{params:a}).subscribe((function(e){return n(e)}),(function(e){return i(e)}))}))}},{key:"getPatients",value:function(e,r){var n=this,i=new t.d;return i=(i=i.append("pagination",e.pagination)).append("hasParams",e.params),!0===e.pagination&&(i=(i=i.append("size",e.size)).append("page",e.page)),!0===e.params&&(i=(i=(i=(i=i.append("gender",e.gender)).append("phone",e.phone)).append("username",e.username)).append("email",e.email)),new Promise((function(e,t){n.http.get("".concat(o.a.baseUrl,"/v1/nutritionist/patients/").concat(r),{params:i}).subscribe((function(r){return e(r)}),(function(e){return t(e)}))}))}},{key:"isVerified",value:function(e){var r=this;return new Promise((function(n,t){r.http.get("".concat(o.a.baseUrl,"/v1/users/is-verified/").concat(e)).subscribe((function(e){return n(e)}),(function(e){return t(e)}))}))}},{key:"toBase64",value:function(e){return btoa(String.fromCharCode.apply(null,new Uint8Array(e.data)))}},{key:"putNutritionist",value:function(e){var r=this;return new Promise((function(n,t){r.http.post("".concat(o.a.baseUrl,"/v1/users/update-nutritionist-profile/"),e).subscribe((function(e){return n(e)}),(function(e){return t(e)}))}))}},{key:"registerPatient",value:function(e){var r=this;return new Promise((function(n,t){r.http.post("".concat(o.a.baseUrl,"/v1/patient/register-patient"),e).subscribe((function(e){return n(e)}),(function(e){return t(e)}))}))}},{key:"scheduleConsultation",value:function(e){var r=this;return new Promise((function(n,t){r.http.post("".concat(o.a.baseUrl,"/v1/schedule/new-date"),e).subscribe((function(e){return n(e)}),(function(e){return t(e)}))}))}},{key:"putPatient",value:function(e){var r=this;return new Promise((function(n,t){r.http.post("".concat(o.a.baseUrl,"/v1/patient/update-patient"),e).subscribe((function(e){return n(e)}),(function(e){return t(e)}))}))}},{key:"putConsultation",value:function(e){var r=this;return new Promise((function(n,t){r.http.post("".concat(o.a.baseUrl,"/v1/schedule/put-date"),e).subscribe((function(e){return n(e)}),(function(e){return t(e)}))}))}}]),e}();return e.\u0275fac=function(r){return new(r||e)(i.bc(t.b))},e.\u0275prov=i.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);